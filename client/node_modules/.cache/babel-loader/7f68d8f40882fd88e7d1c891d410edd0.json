{"ast":null,"code":"import _objectSpread from \"D:\\\\Paste Work\\\\nurse\\\\nurse\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"D:\\\\Paste Work\\\\nurse\\\\nurse\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"D:\\\\Paste Work\\\\nurse\\\\nurse\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Paste Work\\\\nurse\\\\nurse\\\\client\\\\src\\\\app\\\\nurse\\\\myprofile\\\\sub\\\\changepassword.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport clsx from 'clsx';\nimport { connect } from \"react-redux\";\nimport * as actions from '../../../../app/actions';\nimport * as authDuck from '../../../../app/store/ducks/auth.duck';\nimport * as userDuck from '../../../../app/store/ducks/user.duck';\nimport { Link } from \"react-router-dom\";\nimport { Alert } from \"react-bootstrap\";\n\nfunction ChangePassword(props) {\n  var _React$createElement;\n\n  var history = useHistory();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      status = _useState2[0],\n      setStatus = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      id = _useState4[0],\n      setId = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      confirmpassword = _useState8[0],\n      setConfirmpassword = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      loading = _useState10[0],\n      setLoading = _useState10[1];\n\n  var _useState11 = useState({\n    paddingRight: \"2.5rem\"\n  }),\n      _useState12 = _slicedToArray(_useState11, 2),\n      loadingButtonStyle = _useState12[0],\n      setLoadingButtonStyle = _useState12[1];\n\n  var enableLoading = function enableLoading() {\n    setLoading(true);\n    setLoadingButtonStyle({\n      paddingRight: \"3.5rem\"\n    });\n  };\n\n  var disableLoading = function disableLoading() {\n    setLoading(false);\n    setLoadingButtonStyle({\n      paddingRight: \"2.5rem\"\n    });\n  };\n\n  useEffect(function () {\n    setId(props.user._id || '');\n  }, [props]);\n\n  var save = function save() {\n    if (password === '') {\n      setStatus('You have to input all the correctly info');\n      return;\n    } else if (password !== confirmpassword) {\n      setStatus('You have to input same value ');\n      return;\n    }\n\n    var tempData = {\n      _id: id,\n      role: props.role,\n      password: password\n    };\n    enableLoading();\n    setTimeout(function () {\n      actions.passUpdate(tempData).then(function (res) {\n        disableLoading();\n        var data = res.data;\n\n        if (!data.success) {\n          setStatus(data.errMessage);\n          return;\n        } else {\n          console.log('succesfull');\n          props.allClients(data.clients);\n          props.passUpdate(data.curuser);\n          history.push(\"/myprofile/overview\");\n          return;\n        }\n      }).catch(function () {\n        disableLoading();\n        setStatus('Error!!! you have to check your Database or Connection');\n      });\n    }, 1000);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"kt-grid__item kt-grid__item--fluid kt-app__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"kt-portlet kt-portlet--height-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"kt-portlet__head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"kt-portlet__head-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"kt-portlet__head-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 33\n    }\n  }, \"Change Password\", /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 87\n    }\n  }, \"Reset your account password\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"kt-form kt-form--label-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"kt-portlet__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"kt-section kt-section--first\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"kt-section__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 41\n    }\n  }, status !== '' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 60\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 49\n    }\n  }, status)) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-solid-danger alert-bold fade show kt-margin-t-20 kt-margin-b-40\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 52\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-exclamation-triangle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 73\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 44\n    }\n  }, \"Configure user passwords to expire periodically. Users will need warning that their passwords are going to expire, \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 187\n    }\n  }), \"or they might inadvertently get locked out of the system!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"alert\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"la la-close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 78\n    }\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-xl-3 col-lg-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 45\n    }\n  }, \"New Password\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    placeholder: \"New password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 49\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group form-group-last row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-xl-3 col-lg-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 45\n    }\n  }, \"Verify Password\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    placeholder: \"Verify password\",\n    value: confirmpassword,\n    onChange: function onChange(e) {\n      return setConfirmpassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 49\n    }\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"kt-portlet__foot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"kt-form__actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 col-xl-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xl-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/myprofile/overview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 80\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(\"button\", (_React$createElement = {\n    className: \"\",\n    style: {\n      marginRight: 10\n    },\n    onClick: save\n  }, _defineProperty(_React$createElement, \"className\", \"btn btn-primary pull-right \".concat(clsx({\n    \"kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light\": loading\n  }))), _defineProperty(_React$createElement, \"__self\", this), _defineProperty(_React$createElement, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 49\n  }), _React$createElement), \"Change Password\"))))))))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    role: state.auth.role\n  };\n};\n\nexport default connect(mapStateToProps, _objectSpread(_objectSpread({}, authDuck.actions), userDuck.actions))(ChangePassword);","map":{"version":3,"sources":["D:/Paste Work/nurse/nurse/client/src/app/nurse/myprofile/sub/changepassword.js"],"names":["React","useState","useEffect","useHistory","clsx","connect","actions","authDuck","userDuck","Link","Alert","ChangePassword","props","history","status","setStatus","id","setId","password","setPassword","confirmpassword","setConfirmpassword","loading","setLoading","paddingRight","loadingButtonStyle","setLoadingButtonStyle","enableLoading","disableLoading","user","_id","save","tempData","role","setTimeout","passUpdate","then","res","data","success","errMessage","console","log","allClients","clients","curuser","push","catch","e","target","value","marginRight","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport clsx from 'clsx';\nimport { connect } from \"react-redux\";\nimport * as actions from '../../../../app/actions';\nimport * as authDuck from '../../../../app/store/ducks/auth.duck';\nimport * as userDuck from '../../../../app/store/ducks/user.duck';\nimport { Link } from \"react-router-dom\";\nimport { Alert } from \"react-bootstrap\";\n\nfunction ChangePassword(props){\n    const history = useHistory();\n    const [status, setStatus] = useState('');\n  const [id, setId] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirmpassword, setConfirmpassword] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [loadingButtonStyle, setLoadingButtonStyle] = useState({\n        paddingRight: \"2.5rem\"\n    });\n    const enableLoading = () => {\n        setLoading(true);\n        setLoadingButtonStyle({ paddingRight: \"3.5rem\" });\n    };\n\n    const disableLoading = () => {\n        setLoading(false);\n        setLoadingButtonStyle({ paddingRight: \"2.5rem\" });\n    };\n    useEffect(() => {\n        setId(props.user._id || '');\n    }, [props])\n    const save = () => {\n        if(password === ''){\n            setStatus('You have to input all the correctly info')\n            return;\n        }else if(password !== confirmpassword){\n            setStatus('You have to input same value ')\n            return;\n        }\n        var tempData = {\n            _id:id,\n            role:props.role,\n            password: password,\n        };\n        enableLoading();\n        setTimeout(() => {\n                actions.passUpdate(tempData).then(res=>{\n                disableLoading();\n                let {data} = res;\n                if(!data.success){\n                setStatus(data.errMessage);\n                return;\n                }else{\n                console.log('succesfull')\n                props.allClients(data.clients);\n                props.passUpdate(data.curuser)\n                history.push(\"/myprofile/overview\");\n                return;\n                }\n                }).catch(() => {\n                    disableLoading();\n                    setStatus(\n                    'Error!!! you have to check your Database or Connection'\n                    );\n                });\n        }, 1000);\n    }\n  return(\n        <div className=\"kt-grid__item kt-grid__item--fluid kt-app__content\">\n            <div className=\"row\">\n                <div className=\"col-xl-12\">\n                    <div className=\"kt-portlet kt-portlet--height-fluid\">\n                        <div className=\"kt-portlet__head\">\n                            <div className=\"kt-portlet__head-label\">\n                                <h3 className=\"kt-portlet__head-title\">Change Password<small>Reset your account password</small></h3>\n                            </div>\n                            {/* <div className=\"kt-portlet__head-toolbar kt-hidden\"> \n                                <div className=\"kt-portlet__head-toolbar\">\n                                    <div className=\"dropdown dropdown-inline\">\n                                        <button type=\"button\" className=\"btn btn-clean btn-sm btn-icon btn-icon-md\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                            <i className=\"la la-sellsy\"></i>\n                                        </button>\n                                        <div className=\"dropdown-menu dropdown-menu-right\">\n                                            <ul className=\"kt-nav\">\n                                                <li className=\"kt-nav__section kt-nav__section--first\">\n                                                    <span className=\"kt-nav__section-text\">Quick Actions</span>\n                                                </li>\n                                                <li className=\"kt-nav__item\">\n                                                    <a href=\"#\" className=\"kt-nav__link\">\n                                                        <i className=\"kt-nav__link-icon flaticon2-graph-1\"></i>\n                                                        <span className=\"kt-nav__link-text\">Statistics</span>\n                                                    </a>\n                                                </li>\n                                                <li className=\"kt-nav__item\">\n                                                    <a href=\"#\" className=\"kt-nav__link\">\n                                                        <i className=\"kt-nav__link-icon flaticon2-calendar-4\"></i>\n                                                        <span className=\"kt-nav__link-text\">Events</span>\n                                                    </a>\n                                                </li>\n                                                <li className=\"kt-nav__item\">\n                                                    <a href=\"#\" className=\"kt-nav__link\">\n                                                        <i className=\"kt-nav__link-icon flaticon2-layers-1\"></i>\n                                                        <span className=\"kt-nav__link-text\">Reports</span>\n                                                    </a>\n                                                </li>\n                                                <li className=\"kt-nav__item\">\n                                                    <a href=\"#\" className=\"kt-nav__link\">\n                                                        <i className=\"kt-nav__link-icon flaticon2-bell-1o\"></i>\n                                                        <span className=\"kt-nav__link-text\">Notifications</span>\n                                                    </a>\n                                                </li>\n                                                <li className=\"kt-nav__item\">\n                                                    <a href=\"#\" className=\"kt-nav__link\">\n                                                        <i className=\"kt-nav__link-icon flaticon2-file-1\"></i>\n                                                        <span className=\"kt-nav__link-text\">Files</span>\n                                                    </a>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div> */}\n                        </div>\n                        <div className=\"kt-form kt-form--label-right\">\n                            <div className=\"kt-portlet__body\">\n                                <div className=\"kt-section kt-section--first\">\n                                    <div className=\"kt-section__body\">\n                                        <div className ='row'>\n                                            {status !=='' ?<div className=\"col-md-12\">\n                                                <Alert variant='danger'>\n                                                    {status}\n                                                </Alert>\n                                            </div>:<div className=\"alert alert-solid-danger alert-bold fade show kt-margin-t-20 kt-margin-b-40\" role=\"alert\">\n                                            <div className=\"alert-icon\"><i className=\"fa fa-exclamation-triangle\"></i></div>\n                                           <div className=\"alert-text\">Configure user passwords to expire periodically. Users will need warning that their passwords are going to expire, <br/>or they might inadvertently get locked out of the system!</div>\n                                            <div className=\"alert-close\">\n                                                <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                                                    <span aria-hidden=\"true\"><i className=\"la la-close\"></i></span>\n                                                </button>\n                                            </div>\n                                        </div>}\n                                        </div>\n                                         {/*  */}\n                                        {/* <div className=\"row\">\n                                            <label className=\"col-xl-3\"></label>\n                                            <div className=\"col-lg-9 col-xl-6\">\n                                                <h3 className=\"kt-section__title kt-section__title-sm\">Change Or Recover Your Password:</h3>\n                                            </div>\n                                        </div> */}\n                                        {/* <div className=\"form-group row\">\n                                            <label className=\"col-xl-3 col-lg-3 col-form-label\">Current Password</label>\n                                            <div className=\"col-lg-9 col-xl-6\">\n                                                <input type=\"password\" className=\"form-control\"laceholder=\"Current password\"/>\n                                                <a href=\"#\" className=\"kt-link kt-font-sm kt-font-bold kt-margin-t-5\">Forgot password ?</a>\n                                            </div>\n                                        </div> */}\n                                        <div className=\"form-group row\">\n                                            <label className=\"col-xl-3 col-lg-3 col-form-label\">New Password</label>\n                                            <div className=\"col-lg-9 col-xl-6\">\n                                                <input type=\"password\" className=\"form-control\" placeholder=\"New password\"value={password} onChange={ (e) => setPassword(e.target.value) }/>\n                                            </div>\n                                        </div>\n                                        <div className=\"form-group form-group-last row\">\n                                            <label className=\"col-xl-3 col-lg-3 col-form-label\">Verify Password</label>\n                                            <div className=\"col-lg-9 col-xl-6\">\n                                                <input type=\"password\" className=\"form-control\"placeholder=\"Verify password\"value={confirmpassword} onChange={ (e) => setConfirmpassword(e.target.value) }/>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"kt-portlet__foot\">\n                                <div className=\"kt-form__actions\">\n                                    <div className=\"row\">\n                                        <div className=\"col-lg-3 col-xl-3\">\n                                        </div>\n                                        <div className=\"col-lg-9 col-xl-9\">\n                                                <Link to=\"/myprofile/overview\"><button className=\"btn btn-secondary pull-right\">Cancel</button></Link>\n                                                <button className=\"\" style={{marginRight: 10, }} onClick={save} className={`btn btn-primary pull-right ${clsx(\n                                                        {\n                                                            \"kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light\": loading\n                                                        }\n                                                        )}`}>\n                                                        Change Password\n                                                </button>\n\t\t\t\t\t\t\t\t        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\nconst mapStateToProps = (state) => ({\n    user:state.auth.user,\n    role:state.auth.role\n  })\nexport default connect(\n    mapStateToProps,\n    {...authDuck.actions, ...userDuck.actions}\n)(ChangePassword);"]},"metadata":{},"sourceType":"module"}